.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.47.3.
.TH WIPEDISK "1" "December 2023" "Dirty Cache" "asmdisks"
.SH NAME
wipedisk \- Wipes first 1MB of a disk and makes backup in /tmp
.SH SYNOPSIS
.B wipedisk
\fI\,-f \/\fR[\fI\,-n\/\fR] \fI\,<device>\/\fR
.SH DESCRIPTION
Zeroes out the first 1 MiB of the given device (to clear all kinds of disk signatures)
and makes a backup copy to \fI\,/tmp\/\fP.
The "\-f" option is required as a safeguard.
.PP
It uses
.B dd(1)
to dump a copy of the first 1 MiB to /tmp/
then
.B dd(1)
again to zero out the first part of the device.
This helps for reinstalling Linux (after 'wipedisk /dev/sda') or clearing ASM devices.
Note that only the header gets deleted, the rest of the original data is still on the disk.
You may restore accidentally wiped disks by dd'ing the 1st MB back from tmp, i.e.:
dd if=/tmp/backup__dev_<dev> of=/dev/<dev> bs=1M count=1
.SH OPTIONS
.TP
\fB\-n\fR
nowait (skips 5 seconds safety delay)
.TP
\fB\-f\fR
force
.SH WARNING
Needless to say that this command can be very dangerous!
Therefore the \fB\-f\fR option is required and a backup of the deleted disk chunk is
stored in \fI\,/tmp\/\fP.  But a fool with a tool...
.SH EXAMPLE
wipedisk \fI\,/dev/sda\/\fP
.PP
Wipes the disk label of the bootdisk (dangerous!).
Note that the example is broken. You need to add the "\-f" to make it work.
.SH INFO
In case of emergency you can restore this first megabyte from backup in \fI\,/tmp\/\fP.
.SH AUTHOR
Written by Bart Sjerps <bart@dirty-cache.com>, License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>.
.br
If you have suggestions for improvements in this tool, please send them along via the above address.
.SH COPYRIGHT
Copyright \(co 2023 Bart Sjerps
.br
.br
This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law.
.SH "SEE ALSO"
asm(1), dd(1)
